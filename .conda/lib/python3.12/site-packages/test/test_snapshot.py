from . import config
import os
from domojupyter import snapshot


def test_create_snapshot_no_block():
    new_snapshot = snapshot.create_snapshot("test_snapshot", False)
    snapshot_id = new_snapshot['id']
    snapshot_list = snapshot.list_snapshots()
    exists = False
    for ss in snapshot_list:
        if ss['id'] == snapshot_id:
            exists = True
    print(exists)
    assert exists is True

def test_create_snapshot_block():
    new_snapshot = snapshot.create_snapshot("test_snapshot", True)
    snapshot_id = new_snapshot['id']
    snapshot_list = snapshot.list_snapshots()
    exists = False
    for ss in snapshot_list:
        if ss['id'] == snapshot_id:
            exists = True
    print(exists)
    assert exists is True


def test_list_snapshots():
    response = snapshot.list_snapshots()
    print(response)
    assert response is not None