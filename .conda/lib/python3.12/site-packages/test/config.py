
import json
import os
import pathlib
import shutil

# Configure
dir_path = os.path.dirname(os.path.realpath(__file__))
with open(f"{dir_path}/config.json") as f:
    config = json.load(f)

jupyterhub_services_url = config['jupyterhub_services_url']
jupyterhub_api_token = config['jupyterhub_api_token']
workspace_id = config['workspace_id']
workspace_session_id = config['workspace_session_id']
notebook_id = config['notebook_id']
hostname = config['hostname']

os.environ['JUPYTERHUB_SERVICES_URL'] = jupyterhub_services_url
os.environ['JUPYTERHUB_API_TOKEN'] = jupyterhub_api_token
os.environ['DOMO_WORKSPACE_ID'] = workspace_id
os.environ['DOMO_WORKSPACE_SESSION_ID'] = workspace_session_id
os.environ['DOMO_HOSTNAME'] = hostname

from domojupyter.domo import DomoHubAuthentication
from domojupyter.jupyterhub import Jupyterhub

jupyterhub = Jupyterhub(jupyterhub_services_url, jupyterhub_api_token, workspace_id, workspace_session_id)
domo_hub_auth = DomoHubAuthentication(jupyterhub)
