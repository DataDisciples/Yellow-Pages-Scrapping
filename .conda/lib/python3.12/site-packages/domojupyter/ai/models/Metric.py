from datetime import datetime
from typing import Optional


class Metric:
    def __init__(self, name: str,
                 value: float,
                 standard_deviation: Optional[float] = None,
                 timestamp: Optional[datetime] = None):
        self.name = name
        self.value = value
        self.standardDeviation = standard_deviation
        self.timestamp = timestamp

    def to_json(self):
        return {
            "name": self.name,
            "value": self.value,
            "standardDeviation": self.standardDeviation,
            "timestamp": self.timestamp.strftime("%Y-%m-%dT%H:%M:%S.%fZ") if self.timestamp is not None else None
        }