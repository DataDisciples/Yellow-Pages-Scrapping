from typing import Optional

from domojupyter.ai.models.ModelIOConfiguration import ModelIOConfiguration
from domojupyter.ai.models.ModelTaskType import ModelTaskType


class ModelTask:
    def __init__(self, task: ModelTaskType,
                 input_config: Optional[ModelIOConfiguration],
                 output_config: Optional[ModelIOConfiguration]):
        self.task = task
        self.input_config = input_config
        self.output_config = output_config

    def to_json(self):
        return {
            "task": self.task.value if type(self.task) is ModelTaskType else self.task,
            "input": self.input_config.to_json() if self.input_config is not None else None,
            "output": self.output_config.to_json() if self.output_config is not None else None
        }
