from domojupyter.ai.models.SchemaObject import SchemaObject
from domojupyter.ai.models.ModelIOConfiguration import ModelIOConfiguration


class JSONModelIOConfiguration(ModelIOConfiguration):
    def __init__(self, json_schema: SchemaObject):
        self.type = "JSON"
        self.media_type = "application/json"
        self.json_schema = json_schema

    def to_json(self):
        return {
            "type": self.type,
            "mediaType": self.media_type,
            "jsonSchema": self.json_schema.to_json() if self.json_schema is not None else None
        }
